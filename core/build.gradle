avast {
    publish {
        artifactId = 'rabbitmq-client-core'
    }
}


dockerCompose.isRequiredBy(test)

test.doFirst {
    dockerCompose.exposeAsSystemProperties(test)
}

dependencies {
    compile project(":api")

    compile "com.avast.metrics:metrics-api:${metricsVersion}"
    compile 'com.typesafe.scala-logging:scala-logging_?:3.7.2'

    compile "com.avast.utils2:utils-common:${utilsVersion}"
    compile "com.avast.utils2:utils-scala_?:${utilsVersion}"
    compile "com.avast.bytes:bytes-core:${bytesVersion}"

    compile 'com.rabbitmq:amqp-client:4.2.1'
    compile 'net.jodah:lyra:0.5.4'
    compile 'com.typesafe:config:1.3.1'
    compile 'com.iheart:ficus_?:1.4.1'

    compile 'com.avast:kluzo-scala_?:2.0.18'
    compile 'com.avast.continuity:continuity-core-scala_?:2.0.20'

    compile 'org.xbib:jsr-305:1.0.0'

    testCompile "com.avast.metrics:metrics-jmx:${metricsVersion}"

    testCompile "org.scalaj:scalaj-http_?:2.3.0"
    testCompile "io.circe:circe-core_?:$circeVersion"
    testCompile "io.circe:circe-generic_?:$circeVersion"
    testCompile "io.circe:circe-parser_?:$circeVersion"

    testCompile 'junit:junit:4.12'
    testCompile 'org.scalatest:scalatest_?:3.0.1'
    testCompile 'org.mockito:mockito-all:1.10.19'
    testCompile 'ch.qos.logback:logback-classic:1.2.3'

    testRuntime 'org.pegdown:pegdown:1.6.0'
}